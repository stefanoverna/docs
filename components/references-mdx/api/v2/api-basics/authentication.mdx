import Link from '~/components/text/link'
import { InlineCode, Code } from '~/components/text/code'
import Caption from '~/components/text/caption'
import Note from '~/components/text/note'
import ProductName from '~/components/name/product-name'
import { API_ENDPOINT } from '~/lib/constants'

export const meta = {
  editUrl: 'pages/docs/api/v2/api-docs-mdx/api-basics/authentication.mdx',
  lastEdited: '2019-10-17T14:44:04.000Z'
}

## Authentication

Requests to the <ProductName /> API must provide an API token through the `Authorization` header:

<Code>
    Authorization: Bearer{' '}
    {props.testingToken ? props.testingToken.token : '<TOKEN>'}
</Code>
<Caption>
    The <InlineCode>Authorization</InlineCode> header with a token.
</Caption>

### Accessing Resources Owned by a Team

By default, you can access resources contained within your own user account.

To access resources owned by a team, you must first find the team ID. You can do so by using the `teams` endpoint ([documentation](#endpoints/teams/list-all-your-teams)) and obtaining the `id` of a team.

After you obtained the team ID, append it as a query string at the end of the API endpoint URL:

<Code>{`${API_ENDPOINT}/v6/now/deployments?teamId=[team ID]`}</Code>
<Caption>
    Replace <InlineCode>[team ID]</InlineCode>{' '}with the team ID you obtained.
</Caption>

<Note>
  You still need to provide an API token through the{' '}
  <InlineCode>Authorization</InlineCode> header.
</Note>

### Failed Authentication

If authentication is unsuccessful for a request, the [error status code](#api-basics/errors) **403** is returned.
